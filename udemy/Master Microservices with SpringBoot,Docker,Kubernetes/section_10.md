[메인 페이지로 가기](main.md)

[이전 섹션으로 가기](section_9.md)

# Section 10 - Making Microservices Resilient

## 설명
마이크로서비스 환경에서는 각 서비스가 독립적으로 운영되기 때문에, 장애에 강한 시스템을 구축하는 것이 매우 중요합니다. 이 섹션에서는 Resilience4j와 같은 라이브러리를 사용해 서킷 브레이커(Circuit Breaker), 리트라이(Retry), 타임아웃(Timeout) 등의 패턴을 적용하여 마이크로서비스를 장애에 강하고 복원력 있는 시스템으로 만드는 방법을 설명합니다.

## 내용
 1. **서킷 브레이커 패턴**: 서킷 브레이커 패턴은 특정 서비스가 과부하로 인해 정상적으로 응답하지 않을 때, 추가적인 요청을 차단하고 서비스 복구 시점까지 대체 응답을 제공하는 방식입니다. 예를 들어, 결제 서비스에 장애가 발생한 경우, 서킷 브레이커가 열리면 더 이상의 요청을 차단하고, 서비스가 복구되면 서킷 브레이커가 닫히며 다시 정상적으로 요청을 처리할 수 있습니다. 이를 통해 장애가 발생한 서비스로의 과도한 요청을 방지하고, 시스템 전체의 안정성을 유지할 수 있습니다.
 2. **리트라이 패턴**: 리트라이 패턴은 요청이 실패했을 때, 자동으로 일정 횟수까지 다시 시도하는 방식입니다. 예를 들어, 일시적인 네트워크 장애나 일시적인 서비스 과부하로 인해 요청이 실패할 경우, 리트라이 메커니즘을 통해 동일한 요청을 몇 차례 재시도할 수 있습니다. 이를 통해 일시적인 장애를 자동으로 복구하고, 서비스의 신뢰성을 높일 수 있습니다.
 3. **타임아웃 설정**: 각 마이크로서비스 간의 통신에서 특정 요청이 너무 오래 걸릴 경우, 타임아웃을 설정하여 일정 시간이 지나면 요청을 취소하고 실패 응답을 반환합니다. 타임아웃을 적절히 설정하면, 특정 서비스가 느리게 응답하거나 응답하지 않을 때, 다른 서비스의 동작에 영향을 주지 않고, 시스템 전체의 응답성을 유지할 수 있습니다.

## 결론
서킷 브레이커, 리트라이, 타임아웃 등의 패턴을 통해 마이크로서비스를 복원력 있는 시스템으로 설계할 수 있습니다. 이는 서비스 간 통신에서 발생할 수 있는 장애 상황에 대비해 시스템이 안정적으로 운영될 수 있도록 도와줍니다. Resilience4j와 같은 도구를 사용하여 이러한 패턴을 쉽게 구현할 수 있습니다.

[다음 섹션으로 가기](section_11.md)
