[메인 페이지로 가기](main.md)

[이전 섹션으로 가기](section_7.md)

# Section 8 - Service Discovery & Service Registration in Microservices

## 설명
이 섹션에서는 마이크로서비스 아키텍처에서 서비스 디스커버리 및 등록을 설명합니다. 마이크로서비스 환경에서는 여러 서비스가 동적으로 생성되거나 종료되기 때문에, 각 서비스의 위치(IP와 포트)를 일일이 관리하는 것은 비효율적입니다. 이를 해결하기 위해 서비스 디스커버리 패턴을 적용하여 서비스가 중앙 서버에 자신을 등록하고, 다른 서비스가 이를 탐색해 통신할 수 있도록 하는 방법을 배웁니다. Spring Cloud Netflix Eureka를 통해 이러한 설정을 어떻게 구현할 수 있는지 실습합니다.

## 내용
 1. **Eureka 서버 설정**: Eureka는 마이크로서비스의 서비스 등록과 디스커버리를 담당하는 중앙 서버입니다. Spring Cloud Netflix Eureka를 사용해 마이크로서비스들이 Eureka 서버에 자신을 등록하고, 다른 서비스들이 이를 탐색해 통신할 수 있도록 합니다. 서버는 각 서비스의 상태와 위치를 관리하며, 서비스가 동적으로 변경될 때 이를 자동으로 반영하여 최신 상태를 유지합니다. Eureka 서버는 중앙 레지스트리로, 각 서비스의 정보(IP 주소와 포트)를 저장하고 관리합니다.
 2. **Eureka 클라이언트 설정**: 각 마이크로서비스는 Eureka 클라이언트로서 동작하여, 중앙 Eureka 서버에 자신을 주기적으로 등록하고, 다른 서비스들의 위치를 동적으로 검색해 통신합니다. 클라이언트 애플리케이션에서는 @EnableEurekaClient 어노테이션을 사용해 Eureka 클라이언트로 등록되며, application.yml에서 Eureka 서버의 URL을 지정하여 연결됩니다. 이를 통해 서비스는 중앙 서버를 통해 다른 서비스의 위치 정보를 받아올 수 있습니다.
 3. **서비스 간 통신**: 서비스 간의 통신은 Eureka 서버를 통해 동적으로 이루어집니다. 서비스는 서로의 위치(IP 주소나 포트)를 알 필요가 없고, 대신 Eureka 서버를 통해 서비스 이름으로 다른 서비스를 탐색합니다. 예를 들어, 주문 서비스가 결제 서비스에 요청을 보낼 때, Eureka 서버에서 결제 서비스의 위치를 조회한 후 동적으로 통신할 수 있습니다. 이를 통해 서비스 간의 결합도를 낮추고, 유연한 확장이 가능합니다.

## 결론
Eureka와 같은 서비스 디스커버리 툴을 사용하면 마이크로서비스 환경에서 서비스 간의 위치 정보를 자동으로 관리하고, 서비스가 동적으로 생성 및 종료될 때에도 통신이 원활히 이루어질 수 있습니다. 이는 마이크로서비스의 유연성과 확장성을 높여주는 중요한 설계 패턴입니다.

[다음 섹션으로 가기](section_9.md)
