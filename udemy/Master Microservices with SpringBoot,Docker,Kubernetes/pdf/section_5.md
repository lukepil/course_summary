[메인 페이지로 가기](main.md)

[이전 섹션으로 가기](section_4.md)

# 마이크로서비스의 설정 관리 및 라이브니스/레디니스 프로브

## 설명:

이 섹션에서는 **마이크로서비스의 설정 관리(Configuration Management)**와 Spring Boot를 활용한 다양한 설정 방법을 설명합니다. 특히 Spring Cloud Config Server를 이용한 중앙 집중식 설정 관리 방식을 다룹니다. 전통적인 애플리케이션은 환경별로 설정 파일을 포함하여 배포되었으나, 마이크로서비스 환경에서는 동일한 빌드가 여러 환경에 배포될 수 있으므로 설정을 독립적으로 관리하는 방식이 필요합니다.

15-Factor Methodology에서는 설정을 애플리케이션의 불변성을 유지하는 핵심 요소로 다루며, 배포 환경에 상관없이 동일한 빌드를 사용하고, 환경에 맞는 설정만 변경할 수 있도록 합니다. Spring Boot는 기본적으로 application.properties 또는 application.yml 파일을 통해 설정을 관리하지만, 외부 파일에서 설정을 읽어오도록 구성할 수 있습니다.

또한 Spring Cloud Config Server를 통해 설정 파일을 중앙에서 관리하며, 변경된 설정을 실시간으로 마이크로서비스에 적용할 수 있습니다. 이를 통해 수동 작업 없이 자동으로 설정을 리로드할 수 있습니다.

이와 함께 라이브니스(Liveness) 프로브와 레디니스(Readiness) 프로브가 소개됩니다. 라이브니스 프로브는 애플리케이션 또는 컨테이너가 정상적으로 작동하고 있는지를 판단하며, 레디니스 프로브는 애플리케이션이 네트워크 트래픽을 처리할 준비가 되었는지 확인합니다. 이 두 프로브는 Spring Boot의 actuator 모듈에서 지원되며, /actuator/health/liveness와 /actuator/health/readiness 엔드포인트에서 확인할 수 있습니다.

## 중요 부분:

 1. Spring Boot와 Spring Cloud Config Server를 사용한 중앙 집중식 설정 관리: 환경에 따른 설정 관리를 외부 설정 파일을 통해 자동으로 적용할 수 있습니다.
 2. 라이브니스 및 레디니스 프로브: 컨테이너나 애플리케이션이 정상적으로 작동하는지, 네트워크 트래픽을 받을 준비가 되었는지를 판단하는 데 사용됩니다.

## 결론:

마이크로서비스 환경에서는 설정 관리의 자동화가 필수적이며, 이를 위해 Spring Cloud Config Server를 활용해 중앙에서 관리하는 설정을 여러 서비스에 실시간으로 적용할 수 있습니다. 또한, 라이브니스와 레디니스 프로브를 통해 컨테이너의 상태를 모니터링하고 문제가 발생할 경우 신속하게 대응할 수 있습니다.

[다음 섹션으로 가기](section_6.md)
