[메인 페이지로 가기](main.md)

[이전 섹션으로 가기](section_6.md)

# 마이크로서비스에서 라우팅과 교차 관심사 처리

## 설명:

이 섹션은 **마이크로서비스의 라우팅(Routing)**과 **교차 관심사(Cross-Cutting Concerns)**를 다룹니다. 마이크로서비스 네트워크에서 여러 서비스가 존재할 경우, 클라이언트가 각각의 서비스 URL을 알아야 하며, 보안, 로깅, 라우팅 등의 공통 요구사항을 각각의 서비스에서 처리하는 것은 반복적이고 비효율적입니다. 이를 해결하기 위해, **엣지 서버(Edge Server)**가 필요하며, 이를 통해 모든 마이크로서비스의 단일 진입점을 제공할 수 있습니다.

엣지 서버는 API 게이트웨이 역할을 하며, 모든 클라이언트 요청을 처리하는 단일 지점으로, 내부 서비스에 대한 접근을 관리하고 인증 및 권한 부여(Authorization), 로드 밸런싱, 프로토콜 변환, 로깅 등을 처리합니다. 또한, 마이크로서비스 내부의 다운스트림 서비스 호출 시 재시도(Retry) 및 타임아웃(Timeout) 정책을 설정하여 장애를 방지할 수 있습니다.

Spring Cloud Gateway는 이러한 엣지 서버를 구축하기 위한 도구로, 효율적으로 API 게이트웨이를 만들 수 있도록 지원합니다. **반응형 프레임워크(Reactive Framework)**를 활용하여, 고부하 환경에서도 확장성이 뛰어납니다.

## 중요 부분:

	1.	게이트웨이 라우팅 패턴: API 게이트웨이가 클라이언트 요청을 적절한 백엔드 마이크로서비스로 라우팅합니다. URL, 헤더, 요청 매개변수를 기반으로 라우팅을 결정합니다.
	2.	교차 관심사의 오프로딩(Gateway Offloading): 보안, 캐싱, 모니터링 등의 교차 관심사를 API 게이트웨이에서 처리하여, 개별 마이크로서비스가 비즈니스 로직에만 집중할 수 있도록 합니다.
	3.	프론트엔드 전용 백엔드(BFF) 패턴: 웹, 모바일, 태블릿 등 각 클라이언트 타입에 맞춘 전용 백엔드 서비스를 만들어 클라이언트와 마이크로서비스 간의 최적의 통신을 제공합니다.

## 결론:

엣지 서버와 API 게이트웨이는 마이크로서비스 아키텍처에서 여러 서비스 간의 라우팅을 효율적으로 관리하고, 공통적인 보안, 로깅, 로드 밸런싱 등의 기능을 단일 진입점에서 처리함으로써 복잡성을 줄입니다. Spring Cloud Gateway는 이러한 역할을 수행하는 주요 도구로, 대규모 시스템에서도 높은 확장성을 제공합니다.

[다음 섹션으로 가기](section_8.md)
