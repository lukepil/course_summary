[메인 페이지로 가기](main.md)

[이전 섹션으로 가기](section_6.md)

# 

## 설명
이 섹션에서는 MySQL을 데이터베이스로 사용하는 마이크로서비스 설계 방법을 설명합니다. 마이크로서비스는 각 서비스가 독립적으로 운영되기 때문에 각 서비스가 데이터베이스에 대해 독립적인 책임을 갖는 것이 중요합니다. Spring Data JPA와 MySQL을 사용하여 데이터베이스와 연동하는 과정을 실습하고, 각 마이크로서비스가 자신의 데이터를 독립적으로 관리하는 것이 왜 중요한지 논의합니다.

## 내용
 1. **MySQL 설정**: application.yml 파일에서 MySQL 데이터베이스를 설정합니다. 이때 데이터베이스의 URL, 사용자 이름, 비밀번호를 설정해 Spring Boot 애플리케이션이 MySQL과 연결되도록 합니다. 예를 들어, spring.datasource.url에 MySQL 연결 정보를 입력해 데이터베이스를 설정하고, spring.jpa.hibernate.ddl-auto 속성을 통해 자동으로 테이블을 생성하거나 갱신할 수 있도록 설정할 수 있습니다.
 2. **Spring Data JPA와 연동**: Spring Data JPA는 데이터베이스와의 상호작용을 간소화하는 ORM(Object Relational Mapping) 도구입니다. @Entity 어노테이션을 사용하여 데이터베이스 테이블과 매핑되는 객체를 정의합니다. 예를 들어, User 엔티티를 작성하고 사용자 정보를 데이터베이스에 저장할 수 있도록 합니다. 또한 @Repository 인터페이스를 통해 기본적인 CRUD(Create, Read, Update, Delete) 기능을 자동으로 생성하여 사용합니다.
 3. **CRUD 기능 구현**: REST API를 통해 사용자 정보를 추가, 조회, 수정, 삭제하는 CRUD 기능을 Spring Data JPA와 연동하여 구현합니다. 사용자 정보를 추가하는 POST API, 사용자 목록을 조회하는 GET API, 사용자 정보를 수정하는 PUT API, 그리고 삭제하는 DELETE API를 작성하여 MySQL 데이터베이스와 상호작용합니다. 이 과정에서 SQL 쿼리를 작성하지 않고도, JPA가 제공하는 메서드를 사용하여 쉽게 데이터 조작을 할 수 있습니다.
 4. **독립적인 데이터 관리**: 각 마이크로서비스는 자신의 데이터베이스를 독립적으로 관리해야 하므로, 여러 서비스가 하나의 데이터베이스를 공유하는 것은 피해야 합니다. 이를 통해 서비스 간의 결합도를 낮추고, 각 서비스가 독립적으로 운영될 수 있도록 합니다. 예를 들어, 주문 서비스는 주문 관련 데이터를 관리하고, 사용자 서비스는 사용자 데이터를 따로 관리해야 합니다.

## 결론
MySQL과 Spring Data JPA를 사용하여 마이크로서비스의 데이터 관리를 효율적으로 처리할 수 있습니다. 각각의 마이크로서비스가 독립적인 데이터베이스를 관리함으로써, 시스템의 유연성과 확장성을 보장할 수 있습니다. 또한, Spring Data JPA를 사용하면 데이터베이스 연동 작업이 간소화되므로, 개발 생산성이 크게 향상됩니다.

[다음 섹션으로 가기](section_8.md)
